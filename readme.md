# Решение ТЗ
само ТЗ [here](./tz.md)

Я понял задачу так:

Имеет место какое либо аварийное событие с системой сбора данных.
Например: обрыв проводов, наводка от силовых линий, пожар на объекте.
При возникновении таких событий отмечается аномалия на сигналах, выражающаяся в
продолжительном всплеске уровня сигналов.

Для возможности детектирования таких событий построим модель и определим критерии

Чтобы не ждать бесконечно долго, примем: 
1) аномалия происходит со случайным периодом в интервале времени (0-10000) ms
2) продолжительность аномалии в интервале (0-1000с)
3) количество сигналов, на которых влияет аномалия - (2-4)

### Реализация и проблемы

Запуск программы test.exe data_raw.csv data_filt.csv log.txt 12 20000
(параметры выводятся в подсказке)
"Usage with params: <<raw_data.csv> <filtered_data.csv> <log.txt> <num_signals> <iterations>"


При всплеске характеристики сигнала в первые итерации резко возрастает среднеквадратичное отклонение,
но потом скользящее среднее уравновешивается с уровнем всплеска и это происходит достаточно быстро
Существенно увеличивать окно - не имеет смысла - сейчас в настройках 100 итераций (100ms)
В связи с чем уверенное детектирование всплеска происходит спустя 10-20 итераций. Фраза в ТЗ:
> Если хотя бы в 3 каналах подряд произошло событие в течение 100 мс:
по факту реализуется дефайном ANOMALY_DETECTION_PERIOD, и при его значении 10.

### Важное дополнение
Метод отбраковки с помощью трех сигма эффективен ТОЛЬКО в случае НОРМАЛЬНОГО распределения значений. Примером оптимального использования будет такой вариант: 
[есть камера сгорания, препарированная по окружности 12-ю термопарами. Если мы посчитаем среднее по 12-ти точкам, и среднеквадратичное отклонение, то методом 3-х сигма можно выполнить отбраковку канала с "аномальным отклонением". ]